{
  "hash": "e7ff1a19467894df651056f56a9487b7",
  "result": {
    "markdown": "---\ntitle: \"Netflix Survival Analysis\"\nimage: netflix.jpeg\ncategories: \n  - Data Analysis\n  - Content Strategy\n  - Survival Analysis\n  - Data Visualization\n  - Predictive Modeling\n  - Data Science\n  - Audience Segmentation\n---\n\n```{=html}\n<style>\nbody {\n  font-family: 'Times New Roman', sans-serif;\n  background-color: #f9f9f9;\n  color: #333;\n}\n\nh1, h2, h3, h4, h5, h6 {\n  color: #999;\n}\n\nnav {\n  background: url(\"https://www.shutterstock.com/shutterstock/videos/1069623523/preview/stock-footage-melbourne-australia-mar-motorized-moving-shot-of-new-albums-released-in-spotify-app.mp4\") no-repeat top center fixed;\n  background-size: cover;\n  height: 20vh;\n  width: 100%;\n}\n\n.panel-tabset {\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  background-color: #fff;\n  padding: 15px;\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n}\n\n.panel-tabset h3 {\n  margin-top: 0;\n}\n\n.panel-tabset .tab-content {\n  padding: 10px 0;\n}\n</style>\n```\n\nThis dataset, collected over two years from January 2017 to June 2019, captures the behavior of Netflix users in the UK who opted to have their browser activity tracked. This data, which represents approximately 25% of global traffic activity from laptops and desktops, provides valuable insights into viewing patterns and preferences. The primary goal of this analysis is to understand how filmmakers and creators can determine what movies to produce and which audiences to target.\n\n## Data Preparation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0     ✔ purrr   1.0.0\n✔ tibble  3.2.1     ✔ dplyr   1.1.1\n✔ tidyr   1.2.1     ✔ stringr 1.5.0\n✔ readr   2.1.3     ✔ forcats 0.5.2\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\nlibrary(survival)\nlibrary(survminer)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: ggpubr\n\nAttaching package: 'survminer'\n\nThe following object is masked from 'package:survival':\n\n    myeloma\n```\n:::\n\n```{.r .cell-code}\nlibrary(fitdistrplus)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: MASS\n\nAttaching package: 'MASS'\n\nThe following object is masked from 'package:dplyr':\n\n    select\n```\n:::\n\n```{.r .cell-code}\nthePath=\"/Users/Shared/Survival Analysis\"\n\ndf = read_csv(paste(thePath, \"vodclickstream_uk_movies_03.csv\", sep=\"/\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nNew names:\nRows: 671736 Columns: 8\n── Column specification\n──────────────────────────────────────────────────────── Delimiter: \",\" chr\n(5): title, genres, release_date, movie_id, user_id dbl (2): ...1, duration\ndttm (1): datetime\nℹ Use `spec()` to retrieve the full column specification for this data. ℹ\nSpecify the column types or set `show_col_types = FALSE` to quiet this message.\n• `` -> `...1`\n```\n:::\n\n```{.r .cell-code}\ndf2 = read_csv(paste(thePath, \"netflix_titles.csv\", sep=\"/\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 8807 Columns: 12\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (11): show_id, type, title, director, cast, country, date_added, rating,...\ndbl  (1): release_year\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\n# Merging data that contains movie length to normalize watch length\ndf <- merge(df, df2, by = \"title\")\n\n# Data cleaning and preparation\ndf <- subset(df, !grepl(\"Seasons\", duration.y)) # Removing seasons\ndf$duration.y <- as.numeric(gsub(\" min\", \"\", df$duration.y)) # Converting duration to numeric\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: NAs introduced by coercion\n```\n:::\n\n```{.r .cell-code}\ndf <- subset(df, duration.x > 0) # Removing invalid durations\n\n# Creating columns for analysis\ndf <- df %>%\n    mutate(\n        event = ifelse(duration.x > 0, 1, 0),\n        genres = as.factor(genres),\n        minutes_watched = duration.x / 60,\n        perc_movie_watched = minutes_watched / duration.y,\n        is_action = ifelse(grepl('Action', genres), 1, 0),\n        is_adventure = ifelse(grepl('Adventure', genres), 1, 0),\n        is_comedy = ifelse(grepl('Comedy', genres), 1, 0),\n        is_documentary = ifelse(grepl('Documentary', genres), 1, 0),\n        is_drama = ifelse(grepl('Drama', genres), 1, 0),\n        is_horror = ifelse(grepl('Horror', genres), 1, 0),\n        is_thriller = ifelse(grepl('Thriller', genres), 1, 0),\n        is_romance = ifelse(grepl('romance', genres), 1, 0),\n        is_animation = ifelse(grepl('animation', genres), 1, 0),\n        is_crime = ifelse(grepl('Crime', genres), 1, 0),\n        is_scifi = ifelse(grepl('Sci-Fi', genres), 1, 0),\n        is_sport = ifelse(grepl('Sport', genres), 1, 0),\n        is_musical = ifelse(grepl('musical', genres), 1, 0),\n        is_fantasy = ifelse(grepl('Fantasy', genres), 1, 0),\n        is_mystery = ifelse(grepl('Mystery', genres), 1, 0),\n        is_biography = ifelse(grepl('Biography', genres), 1, 0),\n        is_history = ifelse(grepl('History', genres), 1, 0),\n        is_war = ifelse(grepl('War', genres), 1, 0),\n        is_western = ifelse(grepl('Western', genres), 1, 0),\n        is_short = ifelse(grepl('Short', genres), 1, 0)\n    )\n\n# Cleaning up the percentage of the movie watched\ndf$perc_movie_watched_clean <- round(ifelse(df$perc_movie_watched > 1, 1, df$perc_movie_watched), 2)\n```\n:::\n\n\n## Key Insights and Analysis\n\nTo understand viewing patterns across different genres, survival analysis was employed. The survival curves represent the probability of users continuing to watch a movie over time, segmented by genre. Here are the insights and analyses for some key genres:\n\n### **Action Movies:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvobj <- Surv(df$perc_movie_watched_clean, df$event)\nfit_action <- survfit(survobj~is_action, data = df)\nggsurvplot(fit=fit_action, data=df, risk.table = F, conf.int=T) +\n    labs(\n        title=\"Netflix Movie Genre Survival Curve - Action\",\n        x=\"Watch Length (Minutes)\") \n```\n\n::: {.cell-output-display}\n![](Netflix-Survival_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsurv_median(fit_action)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: `select_()` was deprecated in dplyr 0.7.0.\nℹ Please use `select()` instead.\nℹ The deprecated feature was likely used in the survminer package.\n  Please report the issue at <\u001b]8;;https://github.com/kassambara/survminer/issues\u0007https://github.com/kassambara/survminer/issues\u001b]8;;\u0007>.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n       strata median lower upper\n1 is_action=0   0.97  0.97  0.98\n2 is_action=1   0.99  0.99    NA\n```\n:::\n:::\n\n\n**Insight:** Action movies tend to have high initial engagement but may see a drop-off in viewership as the movie progresses.\n\n**Analysis:** Filmmakers should focus on maintaining high-paced, engaging content throughout the movie to retain viewers.\n\n### **Horror Movies:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit_horror <- survfit(survobj~is_horror, data = df)\nggsurvplot(fit=fit_horror, data=df, risk.table = F, conf.int=T, surv.median.line = 'hv') +\n    labs(\n        title=\"Netflix Movie Genre Survival Curve - Horror\",\n        x=\"Watch Length (Minutes)\") \n```\n\n::: {.cell-output-display}\n![](Netflix-Survival_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsurv_median(fit_horror)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       strata median lower upper\n1 is_horror=0   0.98  0.98  0.99\n2 is_horror=1   0.95  0.94  0.96\n```\n:::\n:::\n\n\n**Insight:** Horror movies have a consistent viewership curve, indicating a dedicated audience.\n\n**Analysis:** This genre benefits from strong, suspenseful storytelling that keeps viewers engaged from start to finish.\n\n### **Thriller Movies:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit_thriller <- survfit(survobj~is_thriller, data = df)\nggsurvplot(fit=fit_thriller, data=df, risk.table = F, conf.int=T, surv.median.line = 'hv') +\n    labs(\n        title=\"Netflix Movie Genre Survival Curve - Thriller\",\n        x=\"Watch Length (Minutes)\") \n```\n\n::: {.cell-output-display}\n![](Netflix-Survival_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsurv_median(fit_thriller)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         strata median lower upper\n1 is_thriller=0   0.99  0.98  0.99\n2 is_thriller=1   0.96  0.95  0.96\n```\n:::\n:::\n\n\n**Insight:** Thriller movies show a steady decline in viewership over time.\n\n**Analysis:** Thrillers need to maintain suspense and plot twists to keep the audience engaged.\n\n### **Romance Movies:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit_romance <- survfit(survobj~is_romance, data = df)\nggsurvplot(fit=fit_romance, data=df, risk.table = F, conf.int=T, surv.median.line = 'hv') +\n    labs(\n        title=\"Netflix Movie Genre Survival Curve - Romance\",\n        x=\"Watch Length (Minutes)\") \n```\n\n::: {.cell-output-display}\n![](Netflix-Survival_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsurv_median(fit_romance)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  strata median lower upper\n1    All   0.98  0.97  0.98\n```\n:::\n:::\n\n\n**Insight:** Romance movies tend to retain a significant portion of their audience throughout the film.\n\n**Analysis:** Emotional engagement and character development are key to keeping viewers invested.\n\n### **Animation Movies:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit_animation <- survfit(survobj~is_animation, data = df)\nggsurvplot(fit=fit_animation, data=df, risk.table = F, conf.int=T, surv.median.line = 'hv') +\n    labs(\n        title=\"Netflix Movie Genre Survival Curve - Animation\",\n        x=\"Watch Length (Minutes)\") \n```\n\n::: {.cell-output-display}\n![](Netflix-Survival_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsurv_median(fit_animation)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  strata median lower upper\n1    All   0.98  0.97  0.98\n```\n:::\n:::\n\n\n**Insight:** Animation movies have high retention rates, particularly among younger audiences.\n\n**Analysis:** Visual appeal and engaging storylines are crucial for maintaining viewer interest in animation.\n\n## Summary\n\nThe detailed visual summaries of Netflix user behavior offer critical insights for filmmakers and content creators. The survival analysis reveals how different genres perform in terms of viewer retention and engagement.\n\n## Key Insights:\n\n**Action:** High initial engagement with potential drop-offs; requires sustained pacing.\n\n**Horror:** Consistent viewership; benefits from strong suspense.\n\n**Thriller:** Steady decline; needs continuous suspense and plot twists.\n\n**Romance:** Strong retention; driven by emotional engagement.\n\n**Animation:** High retention, especially among younger audiences; relies on visual appeal.\n\n## Data Analysis:\n\nThe analysis highlights the importance of genre-specific strategies in content creation.\n\nIt emphasizes the need for continuous engagement, especially in genres like **Action and Thriller**.\n\n**Romance and Animation** benefit from emotional and visual engagement, respectively.\n\n## Conclusion:\n\nUnderstanding viewer behavior through survival analysis enables filmmakers to tailor their content to audience preferences, enhancing engagement and retention. By leveraging these insights, creators can make informed decisions about the types of movies to produce and the target audiences to focus on, ultimately leading to more successful and engaging content on platforms like Netflix.\n",
    "supporting": [
      "Netflix-Survival_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}